<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Mae's Sketchpad</title>
  <link rel="stylesheet" href="apps/sketchpad/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Nunito:wght@400;700&display=swap"
    rel="stylesheet">
</head>

<body>
  <div class="app">
    <!-- Canvas Layer -->
    <canvas id="canvas"></canvas>

    <!-- UI Layer -->
    <header class="top-bar">
      <div class="logo">
        <button class="icon tool-toggle" id="toolToggle" title="Select pen or tool">
          <span aria-hidden="true">üé®</span>
          <span class="sr-only">Open tool selector</span>
        </button>
        <div class="logo-text">
          <h1>Mae's Sketchpad</h1>
        </div>
        <div class="tool-menu" id="toolMenu">
          <div class="panel-section">
            <div class="panel-label">Palette</div>
            <div class="color-panel">
              <div class="color-group" id="colorPalette">
                <!-- Injected by JS -->
              </div>
              <div class="color-actions">
                <button class="action-btn" id="addColorBtn" title="Add Color">
                  <span>+</span>
                </button>
                <button class="action-btn" id="removeColorBtn" title="Remove Selected Color">
                  <svg viewBox="0 0 24 24" width="16" height="16">
                    <path fill="currentColor" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" />
                  </svg>
                </button>
              </div>
              <input type="color" id="colorPickerInput" style="display:none; visibility:hidden;">
            </div>
          </div>
          <div class="menu-divider"></div>
          <div class="panel-section">
            <div class="panel-label">Tools</div>
            <div class="tool-group">
              <button class="tool-btn active" data-tool="brush" data-brush="pencil" title="Pencil">
                <span class="emoji">‚úèÔ∏è</span>
              </button>
              <button class="tool-btn" data-tool="brush" data-brush="marker" title="Marker">
                <span class="emoji">üñçÔ∏è</span>
              </button>
              <button class="tool-btn" data-tool="brush" data-brush="pen" title="Pen">
                <span class="emoji">üñäÔ∏è</span>
              </button>
              <button class="tool-btn" data-tool="brush" data-brush="fade" title="Watercolour">
                <span class="emoji">üíß</span>
              </button>
              <button class="tool-btn" data-tool="eraser" title="Eraser">
                <span class="emoji">üßº</span>
              </button>
            </div>
          </div>
          <div class="menu-divider"></div>
          <div class="size-stack">
            <div class="panel-label">Thickness</div>
            <div class="size-group">
              <span class="size-indicator" aria-hidden="true"></span>
              <input type="range" id="brushSize" min="1" max="50" value="5" title="Brush Size">
            </div>
          </div>
        </div>
      </div>
      <div class="actions">
        <button id="undoBtn" title="Undo" disabled>
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor"
              d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z" />
          </svg>
        </button>
        <button id="redoBtn" title="Redo" disabled>
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor"
              d="M18.4 10.6C16.55 9 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z" />
          </svg>
        </button>
        <div class="divider"></div>
        <button id="saveBtn" title="Save Image">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor"
              d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z" />
          </svg>
        </button>
        <button id="clearBtn" title="Clear All" class="danger">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor"
              d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z" />
          </svg>
        </button>
        <button id="importBtn" title="Import Image">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor"
              d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14l-4-4h3V7h2v6h3l-4 4z" />
          </svg>
        </button>
        <input type="file" id="importImageInput" accept="image/*" style="display:none; visibility:hidden;">
      </div>
    </header>

    <div class="zoom-indicator" id="zoomIndicator">100%</div>
  </div>

  <script type="module" src="apps/sketchpad/main.js"></script>
</body>

</html>
